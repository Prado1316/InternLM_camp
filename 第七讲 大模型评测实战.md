# 第七讲 大模型评测实战

## 1.OpenCompass整体介绍

**1.1做评测**

open compass为一个评测平台，做评测是为了通过能力测评促进模型发展。

面向未来扩展能力维度（数学、代码、智能体）

扎根通用能力，聚焦垂直行业

高质量中文基准

性能测评、反哺能力迭代

**1.2** **评测中的挑战**

全面性、评测成本、数据污染、鲁棒性

**1.3 OpenCompass开源历程**

![image-20240623015440808](D:/%E4%BA%8C%E5%AD%A6%E4%BD%8D/%E4%B9%A6%E7%94%9F%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E7%AC%AC%E4%B8%83%E8%8A%82%E8%AF%BE/image-20240623015440808.png)

助力产业发展和学术研究，广泛应用于头部大模型企业和科研机构

**1.4** **如何评测**

基座模型：海量数据无监督训练（Base）

对话模型：

​	指令数据有监督微调（SFT）

​	人类偏好对齐（RLHF）

公开权重的开源模型：使用GPU/推理加速卡进行本地推理

API模型：发送网络请求获取回复

评测方式划分为：客观评测（客观题）；开放式主观问答（人类评价、模型评价）

扩展：提示词工程

长文本评测（“大海捞针”）

汇聚 社区力量，将工具-基准-榜单三位于一体。

**1.5 全栈工具链**

核心代码库：数据污染检测、模型推理接入、长文本能力测评、中英文双语主观评测

评测流水线：

![image-20240623025221830](./image-20240623025221830-1719082344859-2.png)

多模态评测工具（VLMEvalKit) 、代码评测工具（Code-Evaluator）、MoE模型入门工具（MixtralKit）

能力：

![image-20240623025557563](./image-20240623025557563-1719082560158-4.png)

# 2.实战

**2.1 环境准备**

![image-20240623032929273](./image-20240623032929273-1719084573100-6-1719084577727-8.png)

![image-20240623033037824](./image-20240623033037824-1719084640348-10.png)

环境配置成功

**2.2 数据准备**

![image-20240623033157591](./image-20240623033157591-1719084720410-12.png)

解压评测数据集

![image-20240623033512406](./image-20240623033512406-1719084914675-14.png)

![image-20240623033530506](./image-20240623033530506-1719084932542-16-1719084935370-18.png)

列出所有跟 InternLM 及 C-Eval 相关的配置，至此数据准备完成。

**2.3 评测**

![image-20240623042204915](./image-20240623042204915-1719087727540-21-1719087730286-23.png)





